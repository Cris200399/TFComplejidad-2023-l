{% extends './base.html' %}

{% block body%}
<div class="container mt-5">
    <h1 class="text-center mb-4">Búsqueda de Menor Costo de Precio de Vuelo en Una Ruta</h1>
    <form action="/showMapa" method="post">
        <div class="mb-3">
            <label for="origen" class="form-label">Aeropuerto de origen:</label>
            <select class="form-select" id="origen" name="origen" required>
                <option value="" disabled selected>Código IATA aeropuerto de origen</option>
                {% for airport in airports %}
                <option value ="{{airport['IATA']}}">{{ airport['City'] }}, {{ airport['Country'] }}, {{ airport['IATA'] }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="mb-3">
            <label for="destino" class="form-label">Aeropuerto de destino:</label>
            <select class="form-select" id="destino" name="destino" required>
                <option value="" disabled selected>Código IATA aeropuerto de destino</option>
                {% for airport in airports %}
                <option value ="{{airport['IATA']}}">{{ airport['City'] }}, {{ airport['Country'] }}, {{ airport['IATA'] }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="text-center">
            <button type="submit" class="btn btn-primary btn-lg btn-block">Encontrar Ruta</button>

        </div>
    </form>
</div>
{% if map == False %}
<div class="container">
    <div class="alert alert-danger" role="alert">
        No existe una ruta para {{track}}.
    </div>

</div>
{% endif %}


{% if map%}
    <style>
        #map-container {
               height: 80%;
               width: 80%;
               margin: 0 auto; /* Centrar horizontalmente */
               justify-content: center; /* Centrar horizontalmente */
               align-items: center; /* Centrar verticalmente */
           }
    </style>
    <div class="container">
        <div class="input-group mb-3">
            <span class="input-group-text" id="basic-addon1">Precio total</span>
            <input type="text" class="form-control" value="{{costoTotal}}" readonly aria-describedby="basic-addon1">
          </div>
    </div>
<div id="map-container" class="container">
    {{ map|safe }}

</div>
{% endif %}
{% endblock%}

